<div class="mood-energy-container">
  <div class="header">
    <h1>Log Mood & Energy</h1>
    <button
      type="button"
      class="close-btn"
      (click)="cancel()"
      aria-label="Close"
    >
      ×
    </button>
  </div>

  <div class="mood-energy-form">
    <!-- Mood Section -->
    <div class="section">
      <h2>How are you feeling?</h2>
      <div class="emoji-picker">
        <button
          *ngFor="let emoji of moodOptions"
          type="button"
          class="emoji-button"
          [class.selected]="selectedMood() === emoji"
          (click)="selectMood(emoji)"
        >
          {{ emoji }}
        </button>
      </div>
    </div>

    <!-- Energy Section -->
    <div class="section">
      <h2>Energy Level</h2>
      <div class="energy-container">
        <div class="energy-labels">
          <span>Low</span>
          <span class="energy-value">{{ energyLevel() }}</span>
          <span>High</span>
        </div>
        <input
          type="range"
          min="1"
          max="10"
          step="1"
          [(ngModel)]="energyLevel"
          (input)="onEnergyChange($event)"
          class="energy-slider"
        />
        <div class="range-labels">
          <span>1</span>
          <span>10</span>
        </div>
      </div>
    </div>

    <!-- Save Button -->
    <div class="save-section">
      <button
        type="button"
        class="save-btn"
        (click)="save()"
        [disabled]="!selectedMood() || isLoading()"
      >
        <span *ngIf="isLoading()" class="spinner">⏳</span>
        <span *ngIf="!isLoading()">Save</span>
      </button>
    </div>
  </div>
</div>
